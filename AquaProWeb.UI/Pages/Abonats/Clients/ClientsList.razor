@page "/clientes"


<MudTable Items="@Clients" Hover="@true" Loading="@_loading" FixedHeader="@true" FixedFooter="@true" Dense="@true">
    <ToolBarContent>
        <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" Size="Size.Small" OnClick="(() => AddClientAsync())"></MudFab>
    </ToolBarContent>
    <ColGroup>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;"/>
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
        <col style="min-width: 200px;" />
    </ColGroup>
    <HeaderContent>
        <MudTh>Nom</MudTh>
        <MudTh>Primer_Cognom</MudTh>
        <MudTh>Segon_Cognom</MudTh>
        <MudTh>Tipus_Contacte</MudTh>
        <MudTh>Tipus_Client</MudTh>
        <MudTh>Tipus_Document</MudTh>
        <MudTh>Document</MudTh>
        <MudTh>Tipus_Via</MudTh>
        <MudTh>Adreça</MudTh>
        <MudTh>CP</MudTh>
        <MudTh>Poblacio</MudTh>
        <MudTh>Provincia</MudTh>
        <MudTh>Pais</MudTh>
        <MudTh>Reste Adreça</MudTh>
        <MudTh>Telefon_1</MudTh>
        <MudTh>Telefon_2</MudTh>
        <MudTh>Telefon_3</MudTh>
        <MudTh>Movil_1</MudTh>
        <MudTh>Movil_2</MudTh>
        <MudTh>Movil_3</MudTh>
        <MudTh>Email_1</MudTh>
        <MudTh>Email_2</MudTh>
        <MudTh>Email_3</MudTh>
        <MudTh>Observacions</MudTh>
        <MudTh>IBAN</MudTh>
        <MudTh>Data Alta</MudTh>
        <MudTh>Data Baixa</MudTh>
        <MudTh>Rebre Cartes</MudTh>
        <MudTh>Rebre Factures</MudTh>
        <MudTh>Rebre Rebuts</MudTh>
        <MudTh>Acciones</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd>@context.Nom</MudTd>
        <MudTd>@context.PrimerCognom</MudTd>
        <MudTd>@context.SegonCognom</MudTd>
        <MudTd>@context.TipusContacte</MudTd>
        <MudTd>@context.TipusClient.Tipus</MudTd>
        <MudTd>@context.TipusDocumentIdentificacio</MudTd>
        <MudTd>@context.DocumentIdentificacio</MudTd>
        <MudTd>@context.TipusVia.Codi</MudTd>
        <MudTd>@context.Adressa</MudTd>
        <MudTd>@context.CodiPostal</MudTd>
        <MudTd>@context.Poblacio</MudTd>
        <MudTd>@context.Provincia</MudTd>
        <MudTd>@context.Pais.NomPais</MudTd>
        <MudTd>@context.ResteAdressa</MudTd>
        <MudTd>@context.Telefon1</MudTd>
        <MudTd>@context.Telefon2</MudTd>
        <MudTd>@context.Telefon3</MudTd>
        <MudTd>@context.Mobil1</MudTd>
        <MudTd>@context.Mobil2</MudTd>
        <MudTd>@context.Mobil3</MudTd>
        <MudTd>@context.EMail1</MudTd>
        <MudTd>@context.EMail2</MudTd>
        <MudTd>@context.EMail3</MudTd>
        <MudTd>@context.Observacions</MudTd>
        <MudTd>@context.IBAN</MudTd>
        <MudTd>@context.DataAlta</MudTd>
        <MudTd>@context.DataBaixa</MudTd>
        <MudTd>@context.RebCartes</MudTd>
        <MudTd>@context.RebFactures</MudTd>
        <MudTd>@context.RebRebuts</MudTd>  
        <MudTd DataLabel="Accions">
            <MudButtonGroup Color="Color.Primary" Variant="Variant.Outlined">
                <MudIconButton Color="Color.Success" Icon="@Icons.Material.Filled.Edit" Size="Size.Small" OnClick="(() => UpdateClientAsync(context.Id))"></MudIconButton>
                <MudIconButton Color="Color.Warning" Icon="@Icons.Material.Filled.Delete" Size="Size.Small" OnClick="(() => DeleteClientAsync(context.Id, context.Nom))"></MudIconButton>
            </MudButtonGroup>
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager />
    </PagerContent>
</MudTable>